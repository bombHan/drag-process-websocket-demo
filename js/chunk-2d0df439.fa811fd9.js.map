{"version":3,"sources":["webpack:///./src/views/im/im.vue?fda2","webpack:///src/views/im/im.vue","webpack:///./src/views/im/im.vue?bdd6","webpack:///./src/views/im/im.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_m","_v","staticStyle","model","value","callback","$$v","userId","expression","_l","item","key","attrs","_s","on","login","logout","style","toAccount","targetId","$event","changePrivate","unreadCount","from","moment","time","format","payload","text","input","send","staticRenderFns","name","data","privateList","privateMessageList","created","destroyed","watch","handler","setTimeout","div","scrollTop","scrollHeight","deep","methods","console","log","user","tim","to","conversationType","TIM","TYPES","CONV_C2C","getHistory","setMessageRead","watchMessage","EVENT","SDK_READY","event","MESSAGE_RECEIVED","forEach","MESSAGE_REVOKED","MESSAGE_READ_BY_PEER","CONVERSATION_LIST_UPDATED","type","GROUP_LIST_UPDATED","PROFILE_UPDATED","BLACKLIST_UPDATED","ERROR","SDK_NOT_READY","KICKED_OUT","NET_STATE_CHANGE","component"],"mappings":"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","file":"js/chunk-2d0df439.fa811fd9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('a-date-picker'),_vm._v(\"\\n  当前账号：\\n  \"),_c('a-select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.userId),callback:function ($$v) {_vm.userId=$$v},expression:\"userId\"}},_vm._l((['user0', 'user1', 'user2']),function(item){return _c('a-select-option',{key:item,attrs:{\"value\":item}},[_vm._v(\"\\n      \"+_vm._s(item)+\"\\n    \")])}),1),_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_c('a-button',{on:{\"click\":_vm.logout}},[_vm._v(\"登出\")]),_c('br'),_c('br'),_vm._m(1),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"width\":\"50%\",\"display\":\"flex\"}},[_c('div',{staticStyle:{\"background\":\"#ccc\",\"width\":\"80px\",\"overflow\":\"auto\"}},_vm._l((_vm.privateList),function(item,key){return _c('div',{key:key,style:(item.toAccount === _vm.targetId\n              ? 'background: #fff; padding: 5px; border: 1px solid red;cursor: pointer;'\n              : 'background: #fff; padding: 5px; border: 1px solid #ccc;cursor: pointer;'),on:{\"click\":function($event){return _vm.changePrivate(item)}}},[_vm._v(\"\\n          \"+_vm._s(item.toAccount)+\"\\n          \"),_c('a-badge',{staticStyle:{\"margin-left\":\"10px\"},style:(item.unreadCount > 0 ? '' : 'display:none'),attrs:{\"status\":\"error\"}})],1)}),0),_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('div',{staticStyle:{\"background\":\"#fff\",\"height\":\"250px\",\"overflow\":\"auto\"},attrs:{\"id\":\"privateMessageList\"}},[_vm._l((_vm.privateMessageList),function(item,key){return [(item.from === _vm.userId)?_c('div',{key:key,staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"margin\":\"10px\",\"align-items\":\"flex-end\"}},[_c('div',[_vm._v(\"\\n                \"+_vm._s(item.from)+\"\\n                \"+_vm._s(_vm.moment(item.time * 1000).format(\"YYYY-MM-DD HH:mm:ss\"))+\"\\n              \")]),_c('div',{staticStyle:{\"font-size\":\"12px\"}},[_vm._v(_vm._s(item.payload.text))])]):_c('div',{key:key,staticStyle:{\"margin\":\"10px\"}},[_c('div',[_vm._v(_vm._s(item.from))]),_c('div',{staticStyle:{\"font-size\":\"12px\"}},[_vm._v(_vm._s(item.payload.text))])])]})],2),_c('a-textarea',{staticStyle:{\"resize\":\"none\",\"border-radius\":\"unset\"},attrs:{\"placeholder\":\"请输入\",\"rows\":4,\"autoSize\":false},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}}),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('a-button',{on:{\"click\":_vm.send}},[_vm._v(\"发消息\")])],1)],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('select',[_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"1\")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"2\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"width\":\"50%\"}},[_vm._v(\"私聊\")]),_c('div',{staticStyle:{\"width\":\"50%\"}},[_vm._v(\"多人\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <select>\r\n      <option value=\"1\">1</option>\r\n      <option value=\"2\">2</option>\r\n    </select>\r\n     <a-date-picker />\r\n    当前账号：\r\n    <a-select style=\"width: 200px\" v-model=\"userId\">\r\n      <a-select-option\r\n        v-for=\"item in ['user0', 'user1', 'user2']\"\r\n        :value=\"item\"\r\n        :key=\"item\"\r\n      >\r\n        {{ item }}\r\n      </a-select-option>\r\n    </a-select>\r\n    <a-button type=\"primary\" @click=\"login\">登录</a-button>\r\n    <a-button @click=\"logout\">登出</a-button>\r\n    <br />\r\n    <br />\r\n    <div style=\"display: flex\">\r\n      <div style=\"width: 50%\">私聊</div>\r\n      <div style=\"width: 50%\">多人</div>\r\n    </div>\r\n    <div style=\"display: flex\">\r\n      <div style=\"width: 50%; display: flex\">\r\n        <div style=\"background: #ccc; width: 80px; overflow: auto\">\r\n          <div\r\n            v-for=\"(item, key) in privateList\"\r\n            :key=\"key\"\r\n            @click=\"changePrivate(item)\"\r\n            :style=\"\r\n              item.toAccount === targetId\r\n                ? 'background: #fff; padding: 5px; border: 1px solid red;cursor: pointer;'\r\n                : 'background: #fff; padding: 5px; border: 1px solid #ccc;cursor: pointer;'\r\n            \"\r\n          >\r\n            {{ item.toAccount }}\r\n            <a-badge\r\n              status=\"error\"\r\n              style=\"margin-left: 10px\"\r\n              :style=\"item.unreadCount > 0 ? '' : 'display:none'\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div style=\"flex: 1\">\r\n          <div\r\n            style=\"background: #fff; height: 250px; overflow: auto\"\r\n            id=\"privateMessageList\"\r\n          >\r\n            <template v-for=\"(item, key) in privateMessageList\">\r\n              <div\r\n                v-if=\"item.from === userId\"\r\n                :key=\"key\"\r\n                style=\"\r\n                  display: flex;\r\n                  flex-direction: column;\r\n                  margin: 10px;\r\n                  align-items: flex-end;\r\n                \"\r\n              >\r\n                <div>\r\n                  {{ item.from }}\r\n                  {{ moment(item.time * 1000).format(\"YYYY-MM-DD HH:mm:ss\") }}\r\n                </div>\r\n                <div style=\"font-size: 12px\">{{ item.payload.text }}</div>\r\n              </div>\r\n              <div v-else :key=\"key\" style=\"margin: 10px\">\r\n                <div>{{ item.from }}</div>\r\n                <div style=\"font-size: 12px\">{{ item.payload.text }}</div>\r\n              </div>\r\n            </template>\r\n          </div>\r\n          <a-textarea\r\n            placeholder=\"请输入\"\r\n            :rows=\"4\"\r\n            :autoSize=\"false\"\r\n            style=\"resize: none; border-radius: unset\"\r\n            v-model=\"input\"\r\n          />\r\n          <div style=\"margin-top: 20px\">\r\n            <a-button @click=\"send\">发消息</a-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nexport default {\r\n  name: \"im\",\r\n  data() {\r\n    return {\r\n      moment,\r\n      userId: \"user0\",\r\n      targetId: \"user1\",\r\n      privateList: [],\r\n      privateMessageList: [],\r\n      input: \"\",\r\n    };\r\n  },\r\n  created() {},\r\n  destroyed() {\r\n    this.logout();\r\n  },\r\n  watch: {\r\n    privateMessageList: {\r\n      handler(old, now) {\r\n        // console.log(old, now);\r\n        setTimeout(() => {\r\n          const div = document.getElementById(\"privateMessageList\");\r\n          div.scrollTop = div.scrollHeight;\r\n        }, 100);\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n  methods: {\r\n    //登录\r\n    login() {\r\n      const user = this.$genTestUserSig(this.userId);\r\n      console.log(user);\r\n      let res = tim\r\n        .login({\r\n          userID: this.userId,\r\n          userSig: user.userSig,\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.code === 0) {\r\n            this.watchMessage();\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    //登出\r\n    logout() {\r\n      tim\r\n        .logout()\r\n        .then((imResponse) => {\r\n          console.log(\"登出成功\", imResponse.data); // 登出成功\r\n        })\r\n        .catch((imError) => {\r\n          console.warn(\"logout error:\", imError);\r\n        });\r\n    },\r\n    // 发消息\r\n    send() {\r\n      console.log(\"发送消息\", this.input);\r\n      if (this.input) {\r\n        const message = tim.createTextMessage({\r\n          to: this.targetId,\r\n          conversationType: TIM.TYPES.CONV_C2C,\r\n          payload: {\r\n            text: this.input,\r\n          },\r\n        });\r\n        this.input = \"\";\r\n        // console.log(message)\r\n        tim\r\n          .sendMessage(message)\r\n          .then((imResponse) => {\r\n            // 发送成功\r\n            console.log(\"发送成功消息\", imResponse);\r\n\r\n            this.privateMessageList.push(imResponse.data.message);\r\n          })\r\n          .catch((imError) => {\r\n            // 发送失败\r\n            console.warn(\"sendMessage error:\", imError);\r\n          });\r\n      }\r\n    },\r\n    //切换私聊\r\n    changePrivate(item) {\r\n      if (this.targetId !== item.toAccount) {\r\n        this.targetId = item.toAccount;\r\n        this.input = \"\";\r\n        this.getHistory();\r\n        tim.setMessageRead({ conversationID: `C2C${this.targetId}` });\r\n      }\r\n    },\r\n    // 获取历史消息\r\n    getHistory() {\r\n      tim\r\n        .getMessageList({\r\n          conversationID: `C2C${this.targetId}`,\r\n          count: 15, //拉取消息条数\r\n        })\r\n        .then((res) => {\r\n          if (res.code === 0) {\r\n            this.privateMessageList = res.data.messageList;\r\n            console.log(\"获取历史消息!!!!!!\", res, this.privateMessageList);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(\"获取历史消息报错！！！\", e);\r\n        });\r\n    },\r\n    // 监听im变化\r\n    watchMessage() {\r\n      tim.on(TIM.EVENT.SDK_READY, (event) => {\r\n        console.log(event);\r\n        // 收到离线消息和会话列表同步完毕通知，接入侧可以调用 sendMessage 等需要鉴权的接口\r\n        // event.name - TIM.EVENT.SDK_READY\r\n        this.getHistory();\r\n      });\r\n\r\n      tim.on(TIM.EVENT.MESSAGE_RECEIVED, (event) => {\r\n        // 收到推送的单聊、群聊、群提示、群系统通知的新消息，可通过遍历 event.data 获取消息列表数据并渲染到页面\r\n        // event.name - TIM.EVENT.MESSAGE_RECEIVED\r\n        // event.data - 存储 Message 对象的数组 - [Message]\r\n        console.log(\"收到推送的单聊、群聊、群提示、群系统通知的新消息\", event);\r\n        event.data.forEach((item) => {\r\n          if (item.from === this.targetId && item.conversationType === \"C2C\") {\r\n            this.privateMessageList.push(item);\r\n          }\r\n        });\r\n        tim.setMessageRead({ conversationID: `C2C${this.targetId}` });\r\n      });\r\n\r\n      tim.on(TIM.EVENT.MESSAGE_REVOKED, (event) => {\r\n        // 收到消息被撤回的通知\r\n        // event.name - TIM.EVENT.MESSAGE_REVOKED\r\n        // event.data - 存储 Message 对象的数组 - [Message] - 每个 Message 对象的 isRevoked 属性值为 true\r\n        console.log(event);\r\n      });\r\n\r\n      tim.on(TIM.EVENT.MESSAGE_READ_BY_PEER, (event) => {\r\n        // SDK 收到对端已读消息的通知，即已读回执。使用前需要将 SDK 版本升级至 v2.7.0 或以上。仅支持单聊会话。\r\n        // event.name - TIM.EVENT.MESSAGE_READ_BY_PEER\r\n        // event.data - event.data - 存储 Message 对象的数组 - [Message] - 每个 Message 对象的 isPeerRead 属性值为 true\r\n        console.log(event);\r\n      });\r\n\r\n      tim.on(TIM.EVENT.CONVERSATION_LIST_UPDATED, (event) => {\r\n        // 收到会话列表更新通知，可通过遍历 event.data 获取会话列表数据并渲染到页面\r\n        // event.name - TIM.EVENT.CONVERSATION_LIST_UPDATED\r\n        // event.data - 存储 Conversation 对象的数组 - [Conversation]\r\n        this.privateList = (event.data || []).filter((item) => {\r\n          return item.type === \"C2C\";\r\n        });\r\n        console.log(\"最新的消息列表!!!!!\", event, this.privateList);\r\n      });\r\n\r\n      tim.on(TIM.EVENT.GROUP_LIST_UPDATED, (event) => {\r\n        // 收到群组列表更新通知，可通过遍历 event.data 获取群组列表数据并渲染到页面\r\n        // event.name - TIM.EVENT.GROUP_LIST_UPDATED\r\n        // event.data - 存储 Group 对象的数组 - [Group]\r\n        console.log(event);\r\n      });\r\n\r\n      tim.on(TIM.EVENT.PROFILE_UPDATED, (event) => {\r\n        // 收到自己或好友的资料变更通知\r\n        // event.name - TIM.EVENT.PROFILE_UPDATED\r\n        // event.data - 存储 Profile 对象的数组 - [Profile]\r\n        console.log(event);\r\n      });\r\n\r\n      tim.on(TIM.EVENT.BLACKLIST_UPDATED, (event) => {\r\n        // 收到黑名单列表更新通知\r\n        // event.name - TIM.EVENT.BLACKLIST_UPDATED\r\n        // event.data - 存储 userID 的数组 - [userID]\r\n        console.log(event);\r\n      });\r\n\r\n      tim.on(TIM.EVENT.ERROR, (event) => {\r\n        // 收到 SDK 发生错误通知，可以获取错误码和错误信息\r\n        // event.name - TIM.EVENT.ERROR\r\n        // event.data.code - 错误码\r\n        // event.data.message - 错误信息\r\n        console.log(event);\r\n      });\r\n\r\n      tim.on(TIM.EVENT.SDK_NOT_READY, (event) => {\r\n        // 收到 SDK 进入 not ready 状态通知，此时 SDK 无法正常工作\r\n        // event.name - TIM.EVENT.SDK_NOT_READY\r\n        console.log(event);\r\n      });\r\n\r\n      tim.on(TIM.EVENT.KICKED_OUT, (event) => {\r\n        // 收到被踢下线通知\r\n        // event.name - TIM.EVENT.KICKED_OUT\r\n        // event.data.type - 被踢下线的原因，例如:\r\n        //    - TIM.TYPES.KICKED_OUT_MULT_ACCOUNT 多实例登录被踢\r\n        //    - TIM.TYPES.KICKED_OUT_MULT_DEVICE 多终端登录被踢\r\n        //    - TIM.TYPES.KICKED_OUT_USERSIG_EXPIRED 签名过期被踢 （v2.4.0起支持）。\r\n        console.log(event);\r\n      });\r\n\r\n      tim.on(TIM.EVENT.NET_STATE_CHANGE, (event) => {\r\n        //  网络状态发生改变（v2.5.0 起支持）。\r\n        // event.name - TIM.EVENT.NET_STATE_CHANGE\r\n        // event.data.state 当前网络状态，枚举值及说明如下：\r\n        //     \\- TIM.TYPES.NET_STATE_CONNECTED - 已接入网络\r\n        //     \\- TIM.TYPES.NET_STATE_CONNECTING - 连接中。很可能遇到网络抖动，SDK 在重试。接入侧可根据此状态提示“当前网络不稳定”或“连接中”\r\n        //    \\- TIM.TYPES.NET_STATE_DISCONNECTED - 未接入网络。接入侧可根据此状态提示“当前网络不可用”。SDK 仍会继续重试，若用户网络恢复，SDK 会自动同步消息\r\n        console.log(event);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./im.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./im.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./im.vue?vue&type=template&id=df8e3c7a&scoped=true&\"\nimport script from \"./im.vue?vue&type=script&lang=js&\"\nexport * from \"./im.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df8e3c7a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}