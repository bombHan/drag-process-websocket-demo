(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f5d08e4"],{"2a10":function(t,e,a){},bcb4:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-row",{staticClass:"page-forgot"},[a("a-col",{attrs:{span:16,offset:4}},[a("div",{staticClass:"page-title"},[t._v("找回密码")]),a("a-row",[a("a-col",{attrs:{span:"{20}",offset:"{2}"}},[a("a-steps",{staticClass:"a-step-box",attrs:{current:t.stepNum,labelPlacement:"vertical"}},[a("a-step",{attrs:{title:"确认帐号"}}),a("a-step",{attrs:{title:"验证信息"}}),a("a-step",{attrs:{title:"设置新密码"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:18,offset:3}},[0===t.stepNum?a("a-form",{attrs:{labelAlign:"left","label-col":{span:4},"wrapper-col":{span:19},form:t.form},on:{submit:t.handleSubmit}},[a("a-form-item",{attrs:{label:"企蜂云帐号"}},[a("a-row",[a("a-col",{attrs:{span:22}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["acct",{rules:[{required:!0,message:"请输入帐号"}]}],expression:"['acct', { rules: [{ required: true, message: '请输入帐号' }] }]"}],attrs:{maxLength:32}})],1),a("a-col",{attrs:{span:2}},[a("a-tooltip",{attrs:{title:"企业帐号密码找回：请输入注册时设置的企业帐号。个人帐号密码找回：请输入个人手机号码。如果忘记帐号，或其他原因，请拨打4008-827-827联系客服。"}},[a("a-icon",{staticStyle:{"font-size":"18px","line-height":"40px","margin-left":"5px"},attrs:{type:"question-circle"}})],1)],1)],1)],1),a("a-form-item",{attrs:{label:"验证码"}},[a("a-row",[a("a-col",{attrs:{span:18}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["verifyCode",{rules:[{required:!0,message:"请输入验证码"}]}],expression:"['verifyCode', { rules: [{ required: true, message: '请输入验证码' }] }]"}],attrs:{maxLength:6}})],1),a("a-col",{attrs:{span:4}},[a("img",{staticClass:"code-img",attrs:{src:t.codeUrl,alt:"pic"},on:{click:t.getCodeImgUrl}})])],1)],1),a("a-form-item",{staticStyle:{"text-align":"right"},attrs:{colon:!1,label:" "}},[a("a-button",{staticStyle:{width:"120px","margin-top":"30px"},attrs:{type:"primary",htmlType:"submit"}},[t._v("确定")])],1)],1):t._e(),1===t.stepNum?a("a-form",{attrs:{labelAlign:"left","label-col":{span:4},"wrapper-col":{span:19},form:t.form2},on:{submit:t.handleSubmit2}},[a("a-form-item",[a("span",{staticStyle:{color:"#333","font-size":"16px"}},[t._v("请使用"+t._s(t.phone.replace(t.phone.substring(3,7),"****"))+"接收验证码")])]),a("a-form-item",{attrs:{label:"手机验证码"}},[a("a-row",[a("a-col",{attrs:{span:19}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["noteNumber",{rules:[{required:!0,message:"请输入手机验证码"}]}],expression:"['noteNumber', { rules: [{ required: true, message: '请输入手机验证码' }] }]"}],attrs:{maxLength:6}})],1),a("a-col",{attrs:{span:5}},[t.isCodeing?a("a-button",{attrs:{type:"primary",block:"",ghost:""}},[t._v(t._s(t.num)+"s")]):a("a-button",{attrs:{type:"primary",block:"",ghost:""},on:{click:t.getCode}},[t._v("获取验证码")])],1)],1)],1),a("a-form-item",{staticStyle:{"text-align":"right"},attrs:{colon:!1,label:" "}},[a("a-button",{staticStyle:{width:"120px","margin-top":"30px"},attrs:{type:"primary",htmlType:"submit"}},[t._v("确定")])],1)],1):t._e(),2!==t.stepNum||t.isSuccess?t._e():a("a-form",{attrs:{labelAlign:"left","label-col":{span:4},"wrapper-col":{span:19},form:t.form3},on:{submit:t.handleSubmit3}},[a("a-form-item",{attrs:{label:"新密码",extra:"长度为6-14个字符，密码必须有数字、字母，区分大小写。"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入新密码"}]}],expression:"['password', { rules: [{ required: true, message: '请输入新密码' }] }]"}],attrs:{maxLength:14}})],1),a("a-form-item",{attrs:{label:"确认新密码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password2",{rules:[{required:!0,message:"请输入新密码"},{validator:t.validate}]}],expression:"['password2', { rules: [{ required: true, message: '请输入新密码' },{validator:validate}]}]"}],attrs:{maxLength:14}})],1),a("a-form-item",{staticStyle:{"text-align":"right"},attrs:{colon:!1,label:" "}},[a("a-button",{staticStyle:{width:"120px","margin-top":"30px"},attrs:{type:"primary",htmlType:"submit"}},[t._v("确定")])],1)],1),2===t.stepNum&&t.isSuccess?a("a-row",[a("a-col",{staticStyle:{"text-align":"right","padding-right":"20px"},attrs:{span:6}},[a("a-icon",{staticStyle:{"font-size":"48px",color:"#7ddc82"},attrs:{theme:"filled",type:"check-circle"}})],1),a("a-col",{attrs:{span:18}},[a("div",{staticStyle:{"font-size":"18px",color:"#333"}},[t._v("您的帐号密码已经修改，请重新登录")]),a("div",{staticStyle:{"font-size":"14px",color:"#808080"}},[t._v("\n              "+t._s(t.num2)+"秒后将返回登录页面，点击此立即返回\n              "),a("router-link",{attrs:{replace:"",to:"/login"}},[t._v("返回")])],1)])],1):t._e()],1)],1)],1)],1)},s=[],i=(a("f548"),a("47e7"),{data:function(){var t=this;return{stepNum:0,form:this.$form.createForm(this,{name:"save"}),codeUrl:"",acct:"",phone:"",form2:this.$form.createForm(this,{name:"save2"}),timer:null,isCodeing:!1,num:60,noteNumber:"",form3:this.$form.createForm(this,{name:"save3"}),isSuccess:!1,timer2:null,num2:5,validate:function(e,a){var r=t.form3.getFieldValue("password");return r&&r!==a?Promise.reject("两次密码输入不一致，请重新输入。"):Promise.resolve()}}},created:function(){this.getCodeImgUrl()},methods:{getCodeImgUrl:function(){var t=this;this.api.G0001().then((function(e){t.codeUrl="data:image/png;base64,"+btoa(new Uint8Array(e).reduce((function(t,e){return t+String.fromCharCode(e)}),""))}))},handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,a){t||e.api.forgot01({acct:a.acct,verifyCode:a.verifyCode}).then((function(t){e.stepNum=1,e.acct=a.acct,e.phone=t.data}))}))},getCode:function(){var t=this;this.api.forgot02().then((function(e){t.timer&&clearInterval(t.timer),t.isCodeing=!0,t.timer=setInterval((function(){t.num<=0?(t.timer&&clearInterval(t.timer),t.isCodeing=!1,t.num=60):--t.num}),1e3)}))},handleSubmit2:function(t){var e=this;t.preventDefault(),this.form2.validateFields((function(t,a){t||e.api.forgot03({noteNumber:a.noteNumber}).then((function(t){e.stepNum=2,e.noteNumber=a.noteNumber}))}))},handleSubmit3:function(t){var e=this;t.preventDefault(),this.form3.validateFields((function(t,a){t||e.api.forgot04({acct:e.acct,noteNumber:e.noteNumber,password:a.password}).then((function(t){e.isSuccess=!0,e.timer2&&clearInterval(e.timer2),e.timer2=setInterval((function(){e.num2<=0?(e.timer2&&clearInterval(e.timer2),e.num2=5,e.$router.replace("/login")):--e.num2}),1e3)}))}))}}}),o=i,n=(a("c757"),a("9ca4")),l=Object(n["a"])(o,r,s,!1,null,"fff4fe06",null);e["default"]=l.exports},c757:function(t,e,a){"use strict";var r=a("2a10"),s=a.n(r);s.a}}]);
//# sourceMappingURL=chunk-1f5d08e4.0debe88b.js.map