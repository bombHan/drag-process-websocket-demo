{"version":3,"sources":["webpack:///./src/views/approve/components/processDrawer.vue?4169","webpack:///./src/views/approve/Process.vue?f359","webpack:///./src/views/approve/components/tree.vue?7208","webpack:///src/views/approve/components/tree.vue","webpack:///./src/views/approve/components/tree.vue?f9dc","webpack:///./src/views/approve/components/tree.vue","webpack:///./src/views/approve/components/processDrawer.vue?d7b8","webpack:///src/views/approve/components/processDrawer.vue","webpack:///./src/views/approve/components/processDrawer.vue?b105","webpack:///./src/views/approve/components/processDrawer.vue","webpack:///src/views/approve/Process.vue","webpack:///./src/views/approve/Process.vue?466f","webpack:///./src/views/approve/Process.vue","webpack:///./src/views/approve/components/tree.vue?5934","webpack:///./src/views/approve/Process.vue?3442"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","process","on","addCondition","addChildNode","addChildNodeEnd","deleteCondition","deleteChildNode","clickItem","visible","formData","formDataParentConditions","saveFormData","closeDrawer","_e","staticStyle","save","_v","staticRenderFns","type","style","$event","stopPropagation","parent","_s","title","content","nowNode","parentNode","slot","conditions","length","_l","item","index","key","sort","childNode","name","props","Object","default","required","data","methods","$emit","conditionsProcess","component","close","ref","editData","labelCol","wrapperCol","message","model","value","callback","$$v","$set","expression","label","openConditionModal","canChooseComponentList","conditionModalShow","addConditionModalOk","conditionList","id","Boolean","Array","componentList","requiredComponentList","unshift","originSort","undefined","computed","contentItem","flag","list","created","console","log","JSON","parse","stringify","map","c","newContent","target","components","Tree","drawer","currentProcess","newData","assign","splice","forEach","push","newProcess"],"mappings":"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","file":"js/chunk-9a101b22.182f137a.js","sourcesContent":["import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./processDrawer.vue?vue&type=style&index=0&id=4f73f73e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./processDrawer.vue?vue&type=style&index=0&id=4f73f73e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"process\"},[_c('div',{staticClass:\"left\"},[_c('tree',{attrs:{\"process\":_vm.process},on:{\"addCondition\":_vm.addCondition,\"addChildNode\":_vm.addChildNode,\"addChildNodeEnd\":_vm.addChildNodeEnd,\"deleteCondition\":_vm.deleteCondition,\"deleteChildNode\":_vm.deleteChildNode,\"clickItem\":_vm.clickItem}})],1),(_vm.visible)?_c('drawer',{attrs:{\"visible\":_vm.visible,\"formData\":_vm.formData,\"formDataParentConditions\":_vm.formDataParentConditions},on:{\"save\":_vm.saveFormData,\"close\":_vm.closeDrawer}}):_vm._e(),_c('a-button',{staticStyle:{\"position\":\"absolute\",\"top\":\"-50px\",\"right\":\"200px\",\"z-index\":\"9\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tree-wrap\"},[(_vm.process.type && _vm.process.type !== 'end' && _vm.process.type !== 'conditions')?_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"center\",\"background\":\"#fff\"}},[_c('div',{staticClass:\"tree-item\"},[(_vm.process.type === 'originator')?_c('div',{staticStyle:{\"position\":\"absolute\",\"left\":\"0\",\"top\":\"0px\",\"width\":\"100%\",\"background\":\"#fff\",\"z-index\":\"999\",\"height\":\"40px\"}}):_vm._e(),_c('div',{staticClass:\"tree-item-border\"}),_c('div',{staticClass:\"tree-item-content\",style:(_vm.process.type === 'originator'?'cursor: default' : ''),on:{\"click\":function($event){return _vm.clickItem(_vm.process)}}},[(_vm.process.type !== 'originator')?_c('a-icon',{staticClass:\"down-icon\",attrs:{\"type\":\"caret-down\"}}):_vm._e(),(_vm.process.type !== 'originator')?_c('a-icon',{staticClass:\"tree-item-content-close\",staticStyle:{\"color\":\"#fff\"},attrs:{\"type\":\"close\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteChildNode(_vm.process, _vm.parent)}}}):_vm._e(),_c('div',{staticClass:\"tree-item-content-title\",staticStyle:{\"color\":\"#fff\"},style:(_vm.process.type === 'originator'\n              ? 'background:#576a95'\n              : _vm.process.type === 'approval'\n              ? 'background:#ff943e;'\n              : 'background:#3296fa')},[_vm._v(\"\\n          \"+_vm._s(_vm.process.title)+\"\\n        \")]),_c('div',{staticClass:\"tree-item-content-content\"},[(_vm.process.content)?_c('div',[_vm._v(_vm._s(_vm.process.content))]):_c('div',{staticStyle:{\"color\":\"#999\"}},[_vm._v(\"请设置\")])])],1)]),_c('div',{staticClass:\"add-button\"},[_c('a-popover',{attrs:{\"title\":null,\"trigger\":\"click\",\"placement\":\"bottom\",\"getPopupContainer\":function (nowNode) { return nowNode.parentNode; }}},[_c('template',{slot:\"content\"},[_c('div',{staticClass:\"add-node\"},[_c('div',{staticClass:\"add-node-item\",on:{\"click\":function($event){return _vm.addChildNode(_vm.process, 'CCperson')}}},[_c('a-icon',{staticStyle:{\"font-size\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"user\"}}),_vm._v(\"\\n              抄送人\\n            \")],1),_c('div',{staticClass:\"add-node-item\",on:{\"click\":function($event){return _vm.addChildNode(_vm.process, 'approval')}}},[_c('a-icon',{staticStyle:{\"font-size\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"user\"}}),_vm._v(\"\\n              审批人\\n            \")],1),_c('div',{staticClass:\"add-node-item\",on:{\"click\":function($event){return _vm.addChildNode(_vm.process, 'condition')}}},[_c('a-icon',{staticStyle:{\"font-size\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"user\"}}),_vm._v(\"\\n              分支\\n            \")],1)])]),_c('a-icon',{staticClass:\"plus\",attrs:{\"type\":\"plus-circle\"}})],2),_c('div',{staticClass:\"tree-item-border\"})],1)]):_vm._e(),(_vm.process.conditions && _vm.process.conditions.length > 0)?_c('div',{staticClass:\"tree\"},[_c('a-icon',{staticClass:\"addcondition-button-down-icon\",attrs:{\"type\":\"caret-down\"}}),_c('div',{staticClass:\"addcondition-button\",on:{\"click\":function($event){return _vm.addCondition(_vm.process)}}},[_vm._v(\"\\n      添加条件\\n    \")]),_vm._l((_vm.process.conditions),function(item,index){return _c('div',{key:index,staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"center\",\"position\":\"relative\"}},[_c('div',{staticClass:\"tree-item\"},[_c('a-icon',{staticClass:\"condition-down-icon\",attrs:{\"type\":\"caret-down\"}}),_c('div',{staticClass:\"tree-item-border\"}),_c('div',{staticClass:\"tree-item-content\",on:{\"click\":function($event){return _vm.clickItem(item, _vm.process)}}},[_c('a-icon',{staticClass:\"tree-item-content-close\",attrs:{\"type\":\"close\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteCondition(index, _vm.process, _vm.parent)}}}),_c('div',{staticClass:\"tree-item-content-title\"},[_c('div',{staticStyle:{\"width\":\"110px\",\"text-align\":\"left\",\"word-break\":\"break-all\"}},[_vm._v(\"\\n              \"+_vm._s(item.title)+\"\\n            \")]),_c('span',{staticStyle:{\"color\":\"#999\"}},[_vm._v(\"优先级\"+_vm._s(item.sort + 1))])]),_c('div',{staticClass:\"tree-item-content-content\"},[(item.content)?_c('div',[_vm._v(_vm._s(item.content))]):_c('div',{staticStyle:{\"color\":\"#999\"}},[_vm._v(\"请设置\")])])],1)],1),_c('div',{staticClass:\"add-button\"},[_c('a-popover',{attrs:{\"title\":null,\"trigger\":\"click\",\"placement\":\"bottom\",\"getPopupContainer\":function (nowNode) { return nowNode.parentNode; }}},[_c('template',{slot:\"content\"},[_c('div',{staticClass:\"add-node\"},[_c('div',{staticClass:\"add-node-item\",on:{\"click\":function($event){return _vm.addChildNode(item, 'CCperson')}}},[_c('a-icon',{staticStyle:{\"font-size\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"user\"}}),_vm._v(\"\\n                抄送人\\n              \")],1),_c('div',{staticClass:\"add-node-item\",on:{\"click\":function($event){return _vm.addChildNode(item, 'approval')}}},[_c('a-icon',{staticStyle:{\"font-size\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"user\"}}),_vm._v(\"\\n                审批人\\n              \")],1),_c('div',{staticClass:\"add-node-item\",on:{\"click\":function($event){return _vm.addChildNode(item, 'condition')}}},[_c('a-icon',{staticStyle:{\"font-size\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"user\"}}),_vm._v(\"\\n                分支\\n              \")],1)])]),_c('a-icon',{staticClass:\"plus\",attrs:{\"type\":\"plus-circle\"}})],2),_c('div',{staticClass:\"tree-item-border\"})],1),(item.childNode)?_c('tree',{attrs:{\"process\":item.childNode,\"parent\":item},on:{\"addCondition\":_vm.addCondition,\"addChildNode\":_vm.addChildNode,\"deleteCondition\":_vm.deleteCondition,\"deleteChildNode\":_vm.deleteChildNode,\"clickItem\":_vm.clickItem}}):_vm._e(),_c('div',{staticClass:\"condition-vertival\"}),(index === 0)?_c('div',{staticClass:\"border-bottom-right\"}):(index === _vm.process.conditions.length - 1)?_c('div',{staticClass:\"border-bottom-left\"}):_c('div',{staticClass:\"border-bottom-whole\"}),(index === 0)?_c('div',{staticClass:\"border-top-right\"}):(index === _vm.process.conditions.length - 1)?_c('div',{staticClass:\"border-top-left\"}):_c('div',{staticClass:\"border-top-whole\"})],1)})],2):_vm._e(),(_vm.process.conditions && _vm.process.conditions.length > 0)?_c('div',{staticClass:\"add-button\"},[_c('a-popover',{attrs:{\"title\":null,\"trigger\":\"click\",\"placement\":\"bottom\",\"getPopupContainer\":function (nowNode) { return nowNode.parentNode; }}},[_c('template',{slot:\"content\"},[_c('div',{staticClass:\"add-node\"},[_c('div',{staticClass:\"add-node-item\",on:{\"click\":function($event){return _vm.addChildNode(_vm.process, 'CCperson')}}},[_c('a-icon',{staticStyle:{\"font-size\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"user\"}}),_vm._v(\"\\n            抄送人\\n          \")],1),_c('div',{staticClass:\"add-node-item\",on:{\"click\":function($event){return _vm.addChildNode(_vm.process, 'approval')}}},[_c('a-icon',{staticStyle:{\"font-size\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"user\"}}),_vm._v(\"\\n            审批人\\n          \")],1),_c('div',{staticClass:\"add-node-item\",on:{\"click\":function($event){return _vm.addChildNode(_vm.process, 'condition')}}},[_c('a-icon',{staticStyle:{\"font-size\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"user\"}}),_vm._v(\"\\n            分支\\n          \")],1)])]),_c('a-icon',{staticClass:\"plus\",attrs:{\"type\":\"plus-circle\"}})],2),_c('div',{staticClass:\"tree-item-border\"})],1):_vm._e(),(_vm.process.childNode)?_c('tree',{attrs:{\"process\":_vm.process.childNode,\"parent\":_vm.process},on:{\"addCondition\":_vm.addCondition,\"addChildNode\":_vm.addChildNode,\"deleteCondition\":_vm.deleteCondition,\"deleteChildNode\":_vm.deleteChildNode,\"clickItem\":_vm.clickItem}}):_vm._e(),(_vm.process.type === 'end')?_c('div',{staticClass:\"end-item\"},[_c('a-icon',{staticClass:\"end-item-down-icon\",attrs:{\"type\":\"caret-down\"}}),_vm._v(\"\\n    流程结束\\n  \")],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tree-wrap\">\r\n    <!-- 当前节点信息 -->\r\n    <div\r\n      style=\"\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        background: #fff;\r\n      \"\r\n      v-if=\"process.type && process.type !== 'end' && process.type !== 'conditions'\"\r\n    >\r\n      <div class=\"tree-item\">\r\n        <div\r\n          style=\"\r\n            position: absolute;\r\n            left: 0;\r\n            top: 0px;\r\n            width: 100%;\r\n            background: #fff;\r\n            z-index: 999;\r\n            height: 40px;\r\n          \"\r\n          v-if=\"process.type === 'originator'\"\r\n        ></div>\r\n        <div class=\"tree-item-border\"></div>\r\n        <div class=\"tree-item-content\" @click=\"clickItem(process)\" :style=\"process.type === 'originator'?'cursor: default' : ''\">\r\n          <a-icon\r\n            type=\"caret-down\"\r\n            class=\"down-icon\"\r\n            v-if=\"process.type !== 'originator'\"\r\n          />\r\n          <a-icon\r\n            type=\"close\"\r\n            class=\"tree-item-content-close\"\r\n            style=\"color: #fff\"\r\n            @click.stop=\"deleteChildNode(process, parent)\"\r\n            v-if=\"process.type !== 'originator'\"\r\n          />\r\n          <div\r\n            class=\"tree-item-content-title\"\r\n            style=\"color: #fff\"\r\n            :style=\"\r\n              process.type === 'originator'\r\n                ? 'background:#576a95'\r\n                : process.type === 'approval'\r\n                ? 'background:#ff943e;'\r\n                : 'background:#3296fa'\r\n            \"\r\n          >\r\n            {{ process.title }}\r\n          </div>\r\n          <div class=\"tree-item-content-content\">\r\n            <div v-if=\"process.content\">{{ process.content }}</div>\r\n            <div v-else style=\"color: #999\">请设置</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"add-button\">\r\n        <a-popover\r\n          :title=\"null\"\r\n          trigger=\"click\"\r\n          placement=\"bottom\"\r\n          :getPopupContainer=\"(nowNode) => nowNode.parentNode\"\r\n        >\r\n          <template slot=\"content\">\r\n            <div class=\"add-node\">\r\n              <div\r\n                @click=\"addChildNode(process, 'CCperson')\"\r\n                class=\"add-node-item\"\r\n              >\r\n                <a-icon\r\n                  type=\"user\"\r\n                  style=\"font-size: 30px; margin-bottom: 10px\"\r\n                />\r\n                抄送人\r\n              </div>\r\n              <div\r\n                @click=\"addChildNode(process, 'approval')\"\r\n                class=\"add-node-item\"\r\n              >\r\n                <a-icon\r\n                  type=\"user\"\r\n                  style=\"font-size: 30px; margin-bottom: 10px\"\r\n                />\r\n                审批人\r\n              </div>\r\n              <div\r\n                @click=\"addChildNode(process, 'condition')\"\r\n                class=\"add-node-item\"\r\n              >\r\n                <a-icon\r\n                  type=\"user\"\r\n                  style=\"font-size: 30px; margin-bottom: 10px\"\r\n                />\r\n                分支\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <a-icon type=\"plus-circle\" class=\"plus\" />\r\n        </a-popover>\r\n        <div class=\"tree-item-border\"></div>\r\n      </div>\r\n    </div>\r\n    <!-- 子节点条件节点 -->\r\n    <div\r\n      class=\"tree\"\r\n      v-if=\"process.conditions && process.conditions.length > 0\"\r\n    >\r\n      <a-icon type=\"caret-down\" class=\"addcondition-button-down-icon\" />\r\n      <div class=\"addcondition-button\" @click=\"addCondition(process)\">\r\n        添加条件\r\n      </div>\r\n      <div\r\n        v-for=\"(item, index) in process.conditions\"\r\n        :key=\"index\"\r\n        style=\"\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          position: relative;\r\n        \"\r\n      >\r\n        <div class=\"tree-item\">\r\n          <a-icon type=\"caret-down\" class=\"condition-down-icon\" />\r\n          <div class=\"tree-item-border\"></div>\r\n          <div class=\"tree-item-content\" @click=\"clickItem(item, process)\">\r\n            <a-icon\r\n              type=\"close\"\r\n              class=\"tree-item-content-close\"\r\n              @click.stop=\"deleteCondition(index, process, parent)\"\r\n            />\r\n            <div class=\"tree-item-content-title\">\r\n              <div\r\n                style=\"width: 110px; text-align: left; word-break: break-all\"\r\n              >\r\n                {{ item.title }}\r\n              </div>\r\n              <span style=\"color: #999\">优先级{{ item.sort + 1 }}</span>\r\n            </div>\r\n            <div class=\"tree-item-content-content\">\r\n              <div v-if=\"item.content\">{{ item.content }}</div>\r\n              <div v-else style=\"color: #999\">请设置</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"add-button\">\r\n          <a-popover\r\n            :title=\"null\"\r\n            trigger=\"click\"\r\n            placement=\"bottom\"\r\n            :getPopupContainer=\"(nowNode) => nowNode.parentNode\"\r\n          >\r\n            <template slot=\"content\">\r\n              <div class=\"add-node\">\r\n                <div\r\n                  @click=\"addChildNode(item, 'CCperson')\"\r\n                  class=\"add-node-item\"\r\n                >\r\n                  <a-icon\r\n                    type=\"user\"\r\n                    style=\"font-size: 30px; margin-bottom: 10px\"\r\n                  />\r\n                  抄送人\r\n                </div>\r\n                <div\r\n                  @click=\"addChildNode(item, 'approval')\"\r\n                  class=\"add-node-item\"\r\n                >\r\n                  <a-icon\r\n                    type=\"user\"\r\n                    style=\"font-size: 30px; margin-bottom: 10px\"\r\n                  />\r\n                  审批人\r\n                </div>\r\n                <div\r\n                  @click=\"addChildNode(item, 'condition')\"\r\n                  class=\"add-node-item\"\r\n                >\r\n                  <a-icon\r\n                    type=\"user\"\r\n                    style=\"font-size: 30px; margin-bottom: 10px\"\r\n                  />\r\n                  分支\r\n                </div>\r\n              </div>\r\n            </template>\r\n            <a-icon type=\"plus-circle\" class=\"plus\" />\r\n          </a-popover>\r\n          <div class=\"tree-item-border\"></div>\r\n        </div>\r\n        <tree\r\n          v-if=\"item.childNode\"\r\n          :process=\"item.childNode\"\r\n          :parent=\"item\"\r\n          @addCondition=\"addCondition\"\r\n          @addChildNode=\"addChildNode\"\r\n          @deleteCondition=\"deleteCondition\"\r\n          @deleteChildNode=\"deleteChildNode\"\r\n          @clickItem=\"clickItem\"\r\n        />\r\n        <div class=\"condition-vertival\"></div>\r\n        <div class=\"border-bottom-right\" v-if=\"index === 0\" />\r\n        <div\r\n          class=\"border-bottom-left\"\r\n          v-else-if=\"index === process.conditions.length - 1\"\r\n        />\r\n        <div class=\"border-bottom-whole\" v-else />\r\n        <div class=\"border-top-right\" v-if=\"index === 0\" />\r\n        <div\r\n          class=\"border-top-left\"\r\n          v-else-if=\"index === process.conditions.length - 1\"\r\n        />\r\n        <div class=\"border-top-whole\" v-else />\r\n      </div>\r\n    </div>\r\n    <!-- 如果是条件节点后面还要跟一个加号 -->\r\n    <div\r\n      class=\"add-button\"\r\n      v-if=\"process.conditions && process.conditions.length > 0\"\r\n    >\r\n      <a-popover\r\n        :title=\"null\"\r\n        trigger=\"click\"\r\n        placement=\"bottom\"\r\n        :getPopupContainer=\"(nowNode) => nowNode.parentNode\"\r\n      >\r\n        <template slot=\"content\">\r\n          <div class=\"add-node\">\r\n            <div\r\n              @click=\"addChildNode(process, 'CCperson')\"\r\n              class=\"add-node-item\"\r\n            >\r\n              <a-icon\r\n                type=\"user\"\r\n                style=\"font-size: 30px; margin-bottom: 10px\"\r\n              />\r\n              抄送人\r\n            </div>\r\n            <div\r\n              @click=\"addChildNode(process, 'approval')\"\r\n              class=\"add-node-item\"\r\n            >\r\n              <a-icon\r\n                type=\"user\"\r\n                style=\"font-size: 30px; margin-bottom: 10px\"\r\n              />\r\n              审批人\r\n            </div>\r\n            <div\r\n              @click=\"addChildNode(process, 'condition')\"\r\n              class=\"add-node-item\"\r\n            >\r\n              <a-icon\r\n                type=\"user\"\r\n                style=\"font-size: 30px; margin-bottom: 10px\"\r\n              />\r\n              分支\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <a-icon type=\"plus-circle\" class=\"plus\" />\r\n      </a-popover>\r\n      <div class=\"tree-item-border\"></div>\r\n    </div>\r\n    <!-- 除条件节点外的子节点 -->\r\n    <tree\r\n      v-if=\"process.childNode\"\r\n      :process=\"process.childNode\"\r\n      :parent=\"process\"\r\n      @addCondition=\"addCondition\"\r\n      @addChildNode=\"addChildNode\"\r\n      @deleteCondition=\"deleteCondition\"\r\n      @deleteChildNode=\"deleteChildNode\"\r\n      @clickItem=\"clickItem\"\r\n    />\r\n    <div v-if=\"process.type === 'end'\" class=\"end-item\">\r\n      <a-icon type=\"caret-down\" class=\"end-item-down-icon\" />\r\n      流程结束\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"tree\",\r\n  props: {\r\n    process: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n      required: true,\r\n    },\r\n    parent: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n      required: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    addChildNode(process, type) {\r\n      this.$emit(\"addChildNode\", process, type);\r\n    },\r\n    addCondition(process) {\r\n      this.$emit(\"addCondition\", process);\r\n    },\r\n    deleteChildNode(process, parent) {\r\n      this.$emit(\"deleteChildNode\", process, parent);\r\n    },\r\n    deleteCondition(index, process, parent) {\r\n      this.$emit(\"deleteCondition\", index, process, parent);\r\n    },\r\n    clickItem(process, conditionsProcess) {\r\n      if (process.type !== \"originator\") {\r\n        this.$emit(\"clickItem\", process, conditionsProcess);\r\n      }\r\n      // this.$emit(\"clickItem\", process, conditionsProcess);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.tree-wrap {\r\n  color: #000;\r\n  .tree {\r\n    display: flex;\r\n    justify-content: center;\r\n    position: relative;\r\n    z-index: 999;\r\n    background: #fff;\r\n    .condition-vertival {\r\n      height: 100%;\r\n      width: 0;\r\n      border-right: 1px solid #998;\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 0;\r\n    }\r\n    .addcondition-button {\r\n      cursor: pointer;\r\n      position: absolute;\r\n      top: -17px;\r\n      left: calc(50% - 40px);\r\n      width: 80px;\r\n      padding: 5px 0;\r\n      box-shadow: 0 0 10px #ccc;\r\n      background: #fff;\r\n      z-index: 99999;\r\n      border-radius: 10px;\r\n      color: #1890ff;\r\n      transition: 200ms;\r\n      &:hover{\r\n        font-size: 16px;\r\n      }\r\n    }\r\n    .addcondition-button-down-icon {\r\n      position: absolute;\r\n      font-size: 22px;\r\n      top: -33px;\r\n      color: #998;\r\n      left: calc(50% - 11px);\r\n    }\r\n    // .border-bottom-whole {\r\n    //   width: 100%;\r\n    //   border-bottom: 1px solid #998;\r\n    //   position: absolute;\r\n    //   bottom: 0;\r\n    // }\r\n    // .border-bottom-left {\r\n    //   width: 50%;\r\n    //   border-bottom: 1px solid #998;\r\n    //   position: absolute;\r\n    //   bottom: 0;\r\n    //   left: 0;\r\n    // }\r\n    // .border-bottom-right {\r\n    //   width: 50%;\r\n    //   border-bottom: 1px solid #998;\r\n    //   position: absolute;\r\n    //   bottom: 0;\r\n    //   right: 0;\r\n    // }\r\n    // .border-top-whole {\r\n    //   width: 100%;\r\n    //   border-bottom: 1px solid #998;\r\n    //   position: absolute;\r\n    //   top: 0;\r\n    // }\r\n    // .border-top-left {\r\n    //   width: 50%;\r\n    //   border-bottom: 1px solid #998;\r\n    //   position: absolute;\r\n    //   top: 0;\r\n    //   left: 0;\r\n    // }\r\n    // .border-top-right {\r\n    //   width: 50%;\r\n    //   border-bottom: 1px solid #998;\r\n    //   position: absolute;\r\n    //   top: 0;\r\n    //   right: 0;\r\n    // }\r\n  }\r\n  .tree-item {\r\n    width: 260px;\r\n    padding: 20px;\r\n    padding-top: 40px;\r\n    position: relative;\r\n    .tree-item-border {\r\n      border-right: 1px solid #998;\r\n      position: absolute;\r\n      height: 100%;\r\n      top: 0;\r\n      left: 50%;\r\n    }\r\n    .condition-down-icon {\r\n      position: absolute;\r\n      font-size: 22px;\r\n      top: 24px;\r\n      color: #998;\r\n      left: calc(50% - 11px);\r\n    }\r\n    .tree-item-content {\r\n      background: #fff;\r\n      z-index: 999;\r\n      position: relative;\r\n      cursor: pointer;\r\n      border-radius: 10px;\r\n      box-shadow: 0 0 10px #ccc;\r\n      .down-icon {\r\n        position: absolute;\r\n        font-size: 22px;\r\n        top: -16px;\r\n        color: #998;\r\n        left: calc(50% - 11px);\r\n      }\r\n      .tree-item-content-title {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 10px 15px;\r\n        border-bottom: 1px solid #ccc;\r\n        word-break: break-all;\r\n        border-top-left-radius: 8px;\r\n        border-top-right-radius: 8px;\r\n      }\r\n      .tree-item-content-content {\r\n        display: flex;\r\n        align-items: center;\r\n        flex-wrap: wrap;\r\n        word-break: break-all;\r\n        padding: 20px 15px;\r\n      }\r\n      .tree-item-content-close {\r\n        position: absolute;\r\n        cursor: pointer;\r\n        font-size: 14px;\r\n        color: #999;\r\n        right: 5px;\r\n        top: 10px;\r\n      }\r\n    }\r\n  }\r\n  .add-button {\r\n    padding: 20px;\r\n    padding-bottom: 60px;\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    .tree-item-border {\r\n      border-right: 1px solid #998;\r\n      position: absolute;\r\n      height: 100%;\r\n      top: 0;\r\n      left: 50%;\r\n    }\r\n    .plus {\r\n      position: absolute;\r\n      cursor: pointer;\r\n      left: calc(50% + 10px);\r\n      font-size: 22px;\r\n      color: #1890ff;\r\n      transition: 200ms;\r\n      &:hover{\r\n        font-size: 26px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.add-node {\r\n  display: flex;\r\n  .add-node-item {\r\n    width: 100px;\r\n    padding: 10px 0;\r\n    cursor: pointer;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    \r\n  }\r\n}\r\n.end-item {\r\n  width: 80px;\r\n  padding: 10px 0;\r\n  box-shadow: 0 0 10px #ccc;\r\n  background: #fff;\r\n  border-radius: 15px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  .end-item-down-icon {\r\n    position: absolute;\r\n    font-size: 22px;\r\n    top: -16px;\r\n    color: #998;\r\n    left: calc(50% - 11px);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tree.vue?vue&type=template&id=471f61bc&scoped=true&\"\nimport script from \"./tree.vue?vue&type=script&lang=js&\"\nexport * from \"./tree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tree.vue?vue&type=style&index=0&id=471f61bc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"471f61bc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-drawer',{attrs:{\"placement\":\"right\",\"closable\":false,\"maskClosable\":false,\"visible\":_vm.visible,\"width\":\"500px\"},on:{\"close\":_vm.close}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('a-form-model',{ref:\"form\",attrs:{\"model\":_vm.editData,\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"}},[(_vm.editData.type === 'originator')?_c('div',[_vm._v(\"\\n          \"+_vm._s(_vm.editData.title)+\"\\n        \")]):_c('a-form-model-item',{staticStyle:{\"margin-bottom\":\"0\"},attrs:{\"prop\":\"title\",\"rules\":{ required: true, message: '请输入' }}},[_c('a-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.editData.title),callback:function ($$v) {_vm.$set(_vm.editData, \"title\", $$v)},expression:\"editData.title\"}})],1),(_vm.editData.type === 'condition')?_c('a-form-model-item',{staticStyle:{\"margin-bottom\":\"0\"},attrs:{\"prop\":\"sort\"}},[_c('a-select',{staticStyle:{\"width\":\"90px\"},model:{value:(_vm.editData.sort),callback:function ($$v) {_vm.$set(_vm.editData, \"sort\", $$v)},expression:\"editData.sort\"}},_vm._l((_vm.formDataParentConditions),function(item,index){return _c('a-select-option',{key:index,attrs:{\"value\":index}},[_vm._v(\"优先级\"+_vm._s(index + 1))])}),1)],1):_vm._e()],1)])],1),(_vm.editData.type === 'condition')?_c('div',[_c('div',{staticClass:\"top-title\"},[_vm._v(\"当审批单同时满足以下条件时，进入此流程\")]),_vm._l((_vm.editData.content),function(item,index){return [_c('div',{key:index,staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\",\"margin-bottom\":\"15px\"}},[_c('div',{staticStyle:{\"width\":\"90px\"}},[_vm._v(_vm._s(item.label)+\"：\")]),_c('a-icon',{staticStyle:{\"color\":\"#1890ff\",\"font-size\":\"18px\",\"width\":\"30px\",\"margin-left\":\"10px\",\"cursor\":\"pointer\"},attrs:{\"type\":\"delete\"},on:{\"click\":function($event){return _vm.deleteCondition(item)}}})],1)]}),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.openConditionModal}},[_vm._v(\"添加条件\")]),_c('div',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(\"\\n        还有\"+_vm._s(_vm.canChooseComponentList.length)+\"个可用条件\\n      \")])],1)],2):(_vm.editData.type === 'approval')?_c('div',[_vm._v(\"审批人\")]):(_vm.editData.type === 'CCperson')?_c('div',[_vm._v(\"抄送人\")]):_vm._e(),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row-reverse\"}},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_c('a-button',{staticStyle:{\"margin-right\":\"20px\"},on:{\"click\":_vm.close}},[_vm._v(\"取消\")])],1),(_vm.conditionModalShow)?_c('a-modal',{attrs:{\"maskClosable\":false,\"title\":\"选择条件\",\"visible\":_vm.conditionModalShow},on:{\"cancel\":function () {\n        _vm.conditionModalShow = false;\n      },\"ok\":_vm.addConditionModalOk}},[_c('a-checkbox-group',{model:{value:(_vm.conditionList),callback:function ($$v) {_vm.conditionList=$$v},expression:\"conditionList\"}},_vm._l((_vm.requiredComponentList),function(item,index){return _c('a-checkbox',{key:index,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.label))])}),1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <a-drawer\r\n    placement=\"right\"\r\n    :closable=\"false\"\r\n    :maskClosable=\"false\"\r\n    :visible=\"visible\"\r\n    @close=\"close\"\r\n    width=\"500px\"\r\n  >\r\n    <!-- 标题 -->\r\n    <div slot=\"title\">\r\n      <a-form-model\r\n        :model=\"editData\"\r\n        :label-col=\"labelCol\"\r\n        :wrapper-col=\"wrapperCol\"\r\n        ref=\"form\"\r\n      >\r\n        <div\r\n          style=\"\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n          \"\r\n        >\r\n          <div v-if=\"editData.type === 'originator'\">\r\n            {{ editData.title }}\r\n          </div>\r\n          <a-form-model-item\r\n            prop=\"title\"\r\n            :rules=\"{ required: true, message: '请输入' }\"\r\n            style=\"margin-bottom: 0\"\r\n            v-else\r\n          >\r\n            <a-input v-model=\"editData.title\" style=\"width: 300px\" />\r\n          </a-form-model-item>\r\n          <a-form-model-item\r\n            prop=\"sort\"\r\n            style=\"margin-bottom: 0\"\r\n            v-if=\"editData.type === 'condition'\"\r\n          >\r\n            <a-select v-model=\"editData.sort\" style=\"width: 90px\">\r\n              <a-select-option\r\n                :value=\"index\"\r\n                v-for=\"(item, index) in formDataParentConditions\"\r\n                :key=\"index\"\r\n                >优先级{{ index + 1 }}</a-select-option\r\n              >\r\n            </a-select>\r\n          </a-form-model-item>\r\n        </div>\r\n      </a-form-model>\r\n    </div>\r\n    <!-- 条件节点内容 -->\r\n    <div v-if=\"editData.type === 'condition'\">\r\n      <div class=\"top-title\">当审批单同时满足以下条件时，进入此流程</div>\r\n      <template v-for=\"(item, index) in editData.content\">\r\n        <div\r\n          :key=\"index\"\r\n          style=\"\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            margin-bottom: 15px;\r\n          \"\r\n        >\r\n          <div style=\"width: 90px\">{{ item.label }}：</div>\r\n          <!-- <a-select style=\"flex: 1\">\r\n            <a-select-option value=\"lucy\"> Lucy </a-select-option>\r\n          </a-select> -->\r\n          <a-icon\r\n            type=\"delete\"\r\n            style=\"\r\n              color: #1890ff;\r\n              font-size: 18px;\r\n              width: 30px;\r\n              margin-left: 10px;\r\n              cursor: pointer;\r\n            \"\r\n            @click=\"deleteCondition(item)\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <div style=\"display: flex; align-items: center\">\r\n        <a-button type=\"primary\" @click=\"openConditionModal\">添加条件</a-button>\r\n        <div style=\"margin-left: 10px\">\r\n          还有{{ canChooseComponentList.length }}个可用条件\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 审批人节点内容 -->\r\n    <div v-else-if=\"editData.type === 'approval'\">审批人</div>\r\n    <!-- 抄送人节点内容 -->\r\n    <div v-else-if=\"editData.type === 'CCperson'\">抄送人</div>\r\n    <div style=\"display: flex; flex-direction: row-reverse\">\r\n      <a-button type=\"primary\" @click=\"save\">保存</a-button>\r\n      <a-button @click=\"close\" style=\"margin-right: 20px\">取消</a-button>\r\n    </div>\r\n\r\n    <!-- 添加条件弹窗 -->\r\n    <a-modal\r\n      :maskClosable=\"false\"\r\n      title=\"选择条件\"\r\n      v-if=\"conditionModalShow\"\r\n      :visible=\"conditionModalShow\"\r\n      @cancel=\"\r\n        () => {\r\n          conditionModalShow = false;\r\n        }\r\n      \"\r\n      @ok=\"addConditionModalOk\"\r\n    >\r\n      <a-checkbox-group v-model=\"conditionList\">\r\n        <a-checkbox\r\n          v-for=\"(item, index) in requiredComponentList\"\r\n          :value=\"item.id\"\r\n          :key=\"index\"\r\n          >{{ item.label }}</a-checkbox\r\n        >\r\n      </a-checkbox-group>\r\n    </a-modal>\r\n  </a-drawer>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nexport default {\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false,\r\n      required: true,\r\n    },\r\n    formData: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n      required: true,\r\n    },\r\n    formDataParentConditions: {\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      },\r\n      required: false,\r\n    },\r\n    componentList: {\r\n      type: Array,\r\n      default: () => [],\r\n      required: false,\r\n    },\r\n  },\r\n  data() {\r\n    let requiredComponentList = this.componentList.filter((item) => {\r\n      return item.required;\r\n    });\r\n    requiredComponentList.unshift({ label: \"发起人\", id: \"originator\" });\r\n    return {\r\n      labelCol: { span: 4 },\r\n      wrapperCol: { span: 20 },\r\n      requiredComponentList, // 选择条件的选择列表\r\n      editData: {}, // 当前编辑的数据\r\n      originSort: undefined, // 条件节点刚进来的时候的优先级\r\n      conditionModalShow: false, // 添加条件弹窗\r\n      conditionList: [], //添加条件弹窗内的值\r\n    };\r\n  },\r\n  computed: {\r\n    // 过滤掉当前已选择的组件，剩下未选择的组件\r\n    canChooseComponentList() {\r\n      const list = (this.requiredComponentList || []).filter((item) => {\r\n        let flag = true;\r\n        (this.editData.content || []).forEach((contentItem) => {\r\n          if (item.id === contentItem.id) {\r\n            flag = false;\r\n          }\r\n        });\r\n        return flag;\r\n      });\r\n      return list;\r\n    },\r\n  },\r\n  created() {\r\n    console.log(this.formData);\r\n    this.editData = JSON.parse(JSON.stringify(this.formData));\r\n    this.originSort = JSON.parse(JSON.stringify(this.formData)).sort;\r\n  },\r\n  methods: {\r\n    save() {\r\n      if (this.originSort > -1) {\r\n        this.$emit(\"save\", this.editData, this.originSort);\r\n      } else {\r\n        this.$emit(\"save\", this.editData);\r\n      }\r\n    },\r\n    close() {\r\n      this.$emit(\"close\");\r\n    },\r\n    // 点击添加条件按钮\r\n    openConditionModal() {\r\n      this.conditionModalShow = true;\r\n      this.conditionList = (this.editData.content || []).map((item) => item.id);\r\n    },\r\n    // 选择条件弹窗点击确定\r\n    addConditionModalOk() {\r\n      console.log(this.conditionList);\r\n      const newContent = this.conditionList.map((item) => {\r\n        let flag = false;\r\n        (this.editData.content || []).forEach((contentItem) => {\r\n          if (contentItem.id === item) {\r\n            flag = contentItem;\r\n          }\r\n        });\r\n        if (flag) {\r\n          return flag;\r\n        } else {\r\n          //todo: 根据添加不同的组件对象中需要赋予不同属性值\r\n          const target = this.requiredComponentList.find((c) => {\r\n            return c.id === item;\r\n          });\r\n          return {\r\n            ...target\r\n          };\r\n        }\r\n      });\r\n      this.editData.content = newContent;\r\n      this.conditionModalShow = false;\r\n      console.log(this.editData.content);\r\n    },\r\n    // 点击删除按钮\r\n    deleteCondition(target) {\r\n      console.log(target);\r\n      this.editData.content = this.editData.content\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.top-title {\r\n  display: flex;\r\n  padding: 10px 0;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n  border: 1px solid #6897f8;\r\n  color: #6897f8;\r\n  background: #e4f6ff;\r\n  border-radius: 5px;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./processDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./processDrawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./processDrawer.vue?vue&type=template&id=4f73f73e&scoped=true&\"\nimport script from \"./processDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./processDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./processDrawer.vue?vue&type=style&index=0&id=4f73f73e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f73f73e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"process\">\r\n    <!-- <i class=\"iconfont\" style=\"font-size: 30px\">&#xe617;</i> -->\r\n    <div class=\"left\">\r\n      <tree\r\n        :process=\"process\"\r\n        @addCondition=\"addCondition\"\r\n        @addChildNode=\"addChildNode\"\r\n        @addChildNodeEnd=\"addChildNodeEnd\"\r\n        @deleteCondition=\"deleteCondition\"\r\n        @deleteChildNode=\"deleteChildNode\"\r\n        @clickItem=\"clickItem\"\r\n      />\r\n    </div>\r\n    <drawer\r\n      v-if=\"visible\"\r\n      :visible=\"visible\"\r\n      :formData=\"formData\"\r\n      :formDataParentConditions=\"formDataParentConditions\"\r\n      @save=\"saveFormData\"\r\n      @close=\"closeDrawer\"\r\n    />\r\n    <a-button\r\n      type=\"primary\"\r\n      style=\"position: absolute; top: -50px; right: 200px; z-index: 9\"\r\n      @click=\"save\"\r\n      >保存</a-button\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Tree from \"./components/tree\";\r\nimport drawer from \"./components/processDrawer\";\r\nexport default {\r\n  components: {\r\n    Tree,\r\n    drawer,\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      formData: {},\r\n      formDataParentConditions: [],\r\n      currentProcess: {},\r\n      process: {\r\n        title: \"发起人\",\r\n        content: \"所有人\",\r\n        type: \"originator\",\r\n        childNode: {\r\n          conditions: [\r\n            {\r\n              title: \"条件1\",\r\n              content: [{id: 'componentId1'}],\r\n              sort: 0,\r\n              type: \"condition\",\r\n              childNode: {\r\n                title: \"222\",\r\n                content: \"222\",\r\n                type: \"approval\",\r\n              },\r\n            },\r\n            {\r\n              title: \"条件2\",\r\n              content: [{id: 'componentId1'}],\r\n              type: \"condition\",\r\n              sort: 1,\r\n            },\r\n          ],\r\n          childNode: {\r\n            title: \"222\",\r\n            content: \"222\",\r\n            type: \"approval\",\r\n            childNode: {\r\n              type: \"end\",\r\n            },\r\n          },\r\n        },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    clickItem(process, conditionsProcess) {\r\n      console.log(process, conditionsProcess);\r\n      this.formData = JSON.parse(JSON.stringify(process));\r\n      if (conditionsProcess) {\r\n        this.formDataParentConditions = conditionsProcess.conditions;\r\n      }\r\n      this.currentProcess = process;\r\n      this.visible = true;\r\n    },\r\n    closeDrawer() {\r\n      this.visible = false;\r\n    },\r\n    saveFormData(newData, originSort) {\r\n      console.log(newData, originSort, this.currentProcess);\r\n      if (this.currentProcess.type !== \"condition\") {\r\n        // 表示为非条件的节点情况\r\n        this.currentProcess = Object.assign(this.currentProcess, newData);\r\n      } else {\r\n        // 条件节点情况\r\n        this.currentProcess = Object.assign(this.currentProcess, newData);\r\n        this.formDataParentConditions.splice(originSort, 1);\r\n        this.formDataParentConditions.splice(\r\n          this.currentProcess.sort,\r\n          0,\r\n          this.currentProcess\r\n        );\r\n        this.formDataParentConditions.forEach((item, index) => {\r\n          item.sort = index;\r\n        });\r\n        console.log(this.formDataParentConditions);\r\n      }\r\n      this.closeDrawer();\r\n    },\r\n    addCondition(process) {\r\n      // 添加条件\r\n      let sort = process.conditions.length;\r\n      process.conditions.push({\r\n        title: `条件${sort + 1}`,\r\n        content: \"\",\r\n        sort,\r\n        type: \"condition\",\r\n      });\r\n    },\r\n    deleteCondition(index, process, parent) {\r\n      // 删除条件\r\n      console.log(\r\n        \"--删除所在位置--\",\r\n        index,\r\n        \"删除对象所在的对象节点\",\r\n        process,\r\n        \"删除对象所在的对象节点的父对象\",\r\n        parent\r\n      );\r\n      if (process.conditions.length < 3) {\r\n        if (process.content) {\r\n          delete process.conditions;\r\n        } else {\r\n          parent.childNode = process.childNode;\r\n        }\r\n      } else {\r\n        process.conditions.splice(index, 1);\r\n        process.conditions = process.conditions.map((item, index) => {\r\n          return {\r\n            ...item,\r\n            sort: index,\r\n          };\r\n        });\r\n      }\r\n      this.process = JSON.parse(JSON.stringify(this.process));\r\n      console.log(this.process);\r\n    },\r\n    addChildNode(process, type) {\r\n      // 正常节点下的加号\r\n      let newProcess = JSON.parse(JSON.stringify(process));\r\n      if (type === \"condition\") {\r\n        // TODO: 要看this.process数据结构，看看condition是否可以跟节点放在同级，不行的话这个方法要改\r\n        // process.conditions = [\r\n        //   {\r\n        //     title: \"条件1\",\r\n        //     content: \"\",\r\n        //     sort: 0,\r\n        //     type: 'condition',\r\n        //   },\r\n        //   {\r\n        //     title: \"条件2\",\r\n        //     content: \"\",\r\n        //     sort: 1,\r\n        //     type: 'condition',\r\n        //   },\r\n        // ];\r\n        // if (newProcess.conditions) {\r\n        //   process.childNode = {\r\n        //     childNode: newProcess.childNode,\r\n        //     conditions: newProcess.conditions,\r\n        //   };\r\n        // } else {\r\n        //   process.childNode = {\r\n        //     ...newProcess.childNode,\r\n        //   };\r\n        // }\r\n        // TODO: 要看this.process数据结构，这种是condition不可以和节点同级，出现就一定在childnode中\r\n        process.childNode = {\r\n          conditions: [\r\n            {\r\n              title: \"条件1\",\r\n              content: \"\",\r\n              sort: 0,\r\n              type: \"condition\",\r\n            },\r\n            {\r\n              title: \"条件2\",\r\n              content: \"\",\r\n              sort: 1,\r\n              type: \"condition\",\r\n            },\r\n          ],\r\n          childNode: {\r\n            ...newProcess.childNode,\r\n          },\r\n        };\r\n      } else {\r\n        delete process.conditions;\r\n        process.childNode = {\r\n          title: type === \"approval\" ? \"审批人\" : \"抄送人\",\r\n          type: type,\r\n          content: \"\",\r\n          childNode: newProcess.childNode,\r\n          conditions: newProcess.conditions,\r\n        };\r\n      }\r\n      this.process = JSON.parse(JSON.stringify(this.process));\r\n      console.log(process, this.process);\r\n    },\r\n    addChildNodeEnd(process, type) {\r\n      // 条件节点下的加号和条件闭合之后下面的加号\r\n      let childNode = JSON.parse(JSON.stringify(process.childNode || {}));\r\n      console.log(childNode, type);\r\n      if (type === \"condition\") {\r\n        process.childNode = {\r\n          conditions: [\r\n            {\r\n              title: \"条件1\",\r\n              content: \"\",\r\n              sort: 0,\r\n            },\r\n            {\r\n              title: \"条件2\",\r\n              content: \"\",\r\n              sort: 1,\r\n            },\r\n          ],\r\n          childNode: {\r\n            ...childNode,\r\n          },\r\n        };\r\n      } else {\r\n        process.childNode = {\r\n          title: type === \"approval\" ? \"审批人\" : \"抄送人\",\r\n          type,\r\n          content: \"\",\r\n          childNode: {\r\n            ...childNode,\r\n          },\r\n        };\r\n      }\r\n      this.process = JSON.parse(JSON.stringify(this.process));\r\n      console.log(process, this.process);\r\n    },\r\n    deleteChildNode(process, parent) {\r\n      //删除节点\r\n      if (process.conditions && process.conditions.length > 0) {\r\n        // 当前部分对象中有条件conditions字段\r\n        parent.childNode = {\r\n          conditions: process.conditions,\r\n          childNode: process.childNode,\r\n        };\r\n        console.log(parent.childNode);\r\n      } else {\r\n        // 当前部分对象中无条件conditions字段\r\n        parent.childNode = process.childNode;\r\n      }\r\n      this.process = JSON.parse(JSON.stringify(this.process));\r\n      console.log(this.process);\r\n    },\r\n    save() {\r\n      console.log(this.process);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.process {\r\n  // background: #f5f5f7;\r\n  background: #fff;\r\n  display: flex;\r\n  height: calc(100vh - 80px);\r\n  position: relative;\r\n  .left {\r\n    flex: 1;\r\n    text-align: center;\r\n    overflow: auto;\r\n    padding-bottom: 20px\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Process.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Process.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Process.vue?vue&type=template&id=770fc97b&scoped=true&\"\nimport script from \"./Process.vue?vue&type=script&lang=js&\"\nexport * from \"./Process.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Process.vue?vue&type=style&index=0&id=770fc97b&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"770fc97b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=style&index=0&id=471f61bc&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=style&index=0&id=471f61bc&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Process.vue?vue&type=style&index=0&id=770fc97b&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Process.vue?vue&type=style&index=0&id=770fc97b&lang=less&scoped=true&\""],"sourceRoot":""}